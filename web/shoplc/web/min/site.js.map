{"version":3,"sources":["immediate.js","category.js","global.js","init.js"],"names":["window","SLC","immediate","init","document","querySelector","classList","add","category","body","clientWidth","global","menu","trigger","position","addEventListener","e","preventDefault","target","parentNode","toggle","querySelectorAll","forEach","item","moreButton","createElement","href","text","appendChild","methods","header","imageLoad","bodyOffset","contains","getBoundingClientRect","top","Math","abs","height","remove","load","images","length","image","clientHeight","src","dataset","removeEventListener","args","source","cloneNode","removeChild","menuShadow","className","keepClass","setTimeout","controller","getAttribute","action","view","onreadystatechange","readyState"],"mappings":"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","file":"../js/site.js","sourcesContent":["window.SLC = {}\n\nSLC.immediate = ( function () {\n  'use strict'\n\n  var methods = {\n    init: function () {\n      document.querySelector('html').classList.add('js')\n    }\n  }\n\n  //  Public methods\n  return {\n    init: methods.init\n  }\n\n})(SLC)\n\nSLC.immediate.init()\n","SLC.category = ( function () {\n  'use strict'\n\n  var methods = {\n\n    init: function () {\n      if ( document.body.clientWidth < 960 ) {\n        SLC.global.menu({\n          menu: 'main nav.filters',\n          trigger: 'main nav.filters > a',\n          position: 'bottom'\n        })\n        SLC.global.menu({\n          menu: 'main nav.sort',\n          trigger: 'main nav.sort > a',\n          position: 'bottom'\n        })\n      } else {\n        document.querySelector('main section.products nav.sort > a').addEventListener('click', function (e) {\n          e.preventDefault()\n          e.target.parentNode.classList.toggle('active')\n        })\n        document.querySelector('main section.products nav.sort > section').addEventListener('mouseleave', function (e) {\n          e.target.parentNode.classList.toggle('active')\n        })\n        document.querySelectorAll('main section.products nav.filters > section').forEach(function (item) {\n          let moreButton = document.createElement('a')\n          moreButton.href = '#'\n          moreButton.text = 'More'\n          moreButton.addEventListener('click', function (e) {\n            e.preventDefault()\n            e.target.parentNode.classList.toggle('more')\n            if ( e.target.text === 'More' ) {\n              e.target.text = 'Fewer'\n            } else {\n              e.target.text = 'More'\n            }\n          })\n          item.appendChild(moreButton)\n        })\n      }\n    }\n\n  }\n\n  //  Public methods\n  return {\n    init: methods.init\n  }\n\n}(SLC))\n","SLC.global = ( function () {\n  'use strict'\n\n  var methods = {\n\n    init: function () {\n      methods.header()\n      methods.imageLoad()\n    },\n\n    header: function () {\n      var body        = document.querySelector('body'),\n          bodyOffset  = 0,\n          header      = document.querySelector('body > header')\n\n      window.addEventListener('scroll', function () {\n        if ( !body.classList.contains('hidden-header') && bodyOffset > body.getBoundingClientRect().top && Math.abs(body.getBoundingClientRect().top) > header.getBoundingClientRect().height ) {\n          body.classList.add('hidden-header')\n        // The minus 10 pixels is to keep the header from popping in with only slight movements (happens frequently when using touchscreens and touch input devices)\n        // The second half of the statement deals with Safari's bounceback when you scroll past the top of the page\n        } else if ( body.getBoundingClientRect().top - 10 >= bodyOffset || Math.abs(body.getBoundingClientRect().top) <= header.getBoundingClientRect().height ) {\n          body.classList.remove('hidden-header')\n        }\n\n        bodyOffset = body.getBoundingClientRect().top\n        if ( bodyOffset < -60 ) {\n          body.classList.add('partial-header')\n        } else {\n          body.classList.remove('partial-header')\n        }\n      })\n    },\n\n    // Delay image loading until users scroll to them\n    imageLoad: function () {\n      var load = function () {\n            const images = document.querySelectorAll('img[data-src]:not(.loaded)')\n            \n            // If there are images yet to be loaded...\n            if ( images.length ) {\n              images.forEach( function (image) {\n                // If the image is within 1.5 viewport heights of the current offset, load it\n                if ( image.getBoundingClientRect().top < ( document.body.clientHeight * 1.5 ) ) {\n                  image.src = image.dataset.src\n                  image.classList.add('loaded')\n                }\n              })\n            // ...otherwise, remove the scroll listener for performance reasons\n            } else {\n              window.removeEventListener('scroll', load)\n            }\n          }\n      \n      load()\n\n      window.addEventListener('scroll', load)\n    },\n\n    menu: function (args) {\n      var body = document.querySelector('body'),\n          source = document.querySelector(args.menu),\n          menu = source.cloneNode(true),\n          trigger = document.querySelector(args.trigger)\n\n      source.querySelectorAll('section').forEach(function (item) {\n        source.removeChild(item)\n      })\n\n      trigger.addEventListener('click', function () {\n        var menuShadow = document.createElement('div')\n\n        body.appendChild(menu)\n        menuShadow.className = 'menu-shadow'\n        body.appendChild(menuShadow)\n\n        if ( args.keepClass === false ) {\n          menu.className = 'slide-menu ' + args.position\n        } else {\n          menu.className += ' slide-menu ' + args.position\n        }\n\n        if ( body.classList.contains('menu-open') ) {\n          body.classList.remove('menu-open')\n          menu.classList.remove('open')\n          body.classList.add('menu-closing')\n          setTimeout( function () {\n            body.classList.remove('menu-closing')\n          }, 200)\n        } else {\n          body.classList.add('menu-opening')\n          setTimeout( function () {\n            body.classList.remove('menu-opening')\n            body.classList.add('menu-open')\n            menu.classList.add('open')\n          }, 200)\n        }\n\n        menuShadow.addEventListener('click', function () {\n          body.classList.remove('menu-open')\n          menu.classList.remove('open')\n          body.classList.add('menu-closing')\n          setTimeout( function () {\n            body.classList.remove('menu-closing')\n            body.removeChild(menuShadow)\n            if ( menu.parentNode !== null ) {\n              body.removeChild(menu)\n            }\n          }, 200)\n        }, false)\n      }, false)\n    }\n  }\n\n  //  Public methods\n  return {\n    init: methods.init,\n    menu: methods.menu\n  }\n\n}(SLC))\n","SLC.init = function () {\n  'use strict'\n\n  var body        = document.body,\n      controller  = body.getAttribute('data-controller'),\n      action      = body.getAttribute('data-action'),\n      view        = body.getAttribute('data-view')\n\n  SLC.global.init()\n\n  if ( SLC[controller] ) {\n    SLC[controller].init()\n\n    if ( SLC[controller][action] && typeof SLC[controller][action] === 'function' ) {\n      SLC[controller][action]()\n\n      if ( SLC[controller][action][view] ) {\n        SLC[controller][action][view]()\n      }\n    }\n  }\n}\n\ndocument.onreadystatechange = function () {\n  'use strict'\n\n  if ( document.readyState === 'interactive' ) {\n    SLC.init()\n  }\n}\n"]}