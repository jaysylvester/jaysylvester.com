{"version":3,"sources":["immediate.js","category.js","global.js","init.js"],"names":["window","SLC","immediate","init","document","querySelector","classList","add","category","body","clientWidth","global","menu","trigger","position","addEventListener","e","preventDefault","target","parentNode","toggle","querySelectorAll","forEach","item","moreButton","createElement","href","text","className","appendChild","methods","header","imageLoad","bodyOffset","contains","getBoundingClientRect","top","Math","abs","height","remove","load","images","length","image","clientHeight","src","dataset","removeEventListener","args","source","cloneNode","tagName","menuShadow","keepClass","setTimeout","removeChild","controller","getAttribute","action","view","onreadystatechange","readyState"],"mappings":"AAAAA,OAAOC,IAAM,GAEbA,IAAIC,UAAY,WACd,aASA,MAAO,CACLC,KARY,CACZA,KAAM,WACJC,SAASC,cAAc,QAAQC,UAAUC,IAAI,QAMjCJ,MAXF,CAcbF,KAEHA,IAAIC,UAAUC;AClBdF,IAAIO,SAAa,WACf,aAgDA,MAAO,CACLL,KA/CY,CAEZA,KAAM,WACCC,SAASK,KAAKC,YAAc,KAC/BT,IAAIU,OAAOC,KAAK,CACdA,KAAM,mBACNC,QAAS,uBACTC,SAAU,WAEZb,IAAIU,OAAOC,KAAK,CACdA,KAAM,gBACNC,QAAS,oBACTC,SAAU,aAGZV,SAASC,cAAc,sCAAsCU,iBAAiB,QAAS,SAAUC,GAC/FA,EAAEC,iBACFD,EAAEE,OAAOC,WAAWb,UAAUc,OAAO,YAEvChB,SAASC,cAAc,4CAA4CU,iBAAiB,aAAc,SAAUC,GAC1GA,EAAEE,OAAOC,WAAWb,UAAUc,OAAO,YAEvChB,SAASiB,iBAAiB,+CAA+CC,QAAQ,SAAUC,GACzF,IAAIC,EAAapB,SAASqB,cAAc,KACxCD,EAAWE,KAAO,IAClBF,EAAWlB,UAAUC,IAAI,QACzBiB,EAAWG,KAAO,OAClBH,EAAWT,iBAAiB,QAAS,SAAUC,GAC7CA,EAAEC,iBACFD,EAAEE,OAAOC,WAAWb,UAAUc,OAAO,QACd,SAAlBJ,EAAEE,OAAOS,MACZX,EAAEE,OAAOU,UAAY,QACrBZ,EAAEE,OAAOS,KAAO,UAEhBX,EAAEE,OAAOU,UAAY,OACrBZ,EAAEE,OAAOS,KAAO,UAGpBJ,EAAKM,YAAYL,QASTrB,MAlDH,CAqDbF;ACrDFA,IAAIU,OAAW,WACb,aAEA,IAAImB,EAAU,CAEZ3B,KAAM,WACJ2B,EAAQC,SACRD,EAAQE,YAEH5B,SAASK,KAAKC,YAAc,MAC/BoB,EAAQlB,KAAK,CACXA,KAAM,wCACNC,QAAS,uCACTC,SAAU,SAGZV,SAASiB,iBAAiB,wCAAwCC,QAAS,SAAUC,GACnFA,EAAKR,iBAAiB,QAAS,SAAUC,GACvCA,EAAEC,uBAMVc,OAAQ,WACN,IAAItB,EAAcL,SAASC,cAAc,QACrC4B,EAAc,EACdF,EAAc3B,SAASC,cAAc,iBAEzCL,OAAOe,iBAAiB,SAAU,YAC1BN,EAAKH,UAAU4B,SAAS,kBAAoBD,EAAaxB,EAAK0B,wBAAwBC,KAAOC,KAAKC,IAAI7B,EAAK0B,wBAAwBC,KAAOL,EAAOI,wBAAwBI,OAC7K9B,EAAKH,UAAUC,IAAI,kBAGTE,EAAK0B,wBAAwBC,IAAM,IAAMH,GAAcI,KAAKC,IAAI7B,EAAK0B,wBAAwBC,MAAQL,EAAOI,wBAAwBI,SAC9I9B,EAAKH,UAAUkC,OAAO,kBAGxBP,EAAaxB,EAAK0B,wBAAwBC,MACvB,GACjB3B,EAAKH,UAAUC,IAAI,kBAEnBE,EAAKH,UAAUkC,OAAO,qBAM5BR,UAAW,WACT,IAAIS,EAAO,WACL,MAAMC,EAAStC,SAASiB,iBAAiB,8BAGpCqB,EAAOC,OACVD,EAAOpB,QAAS,SAAUsB,GAEnBA,EAAMT,wBAAwBC,IAAqC,IAA7BhC,SAASK,KAAKoC,eACvDD,EAAME,IAAMF,EAAMG,QAAQD,IAC1BF,EAAMtC,UAAUC,IAAI,aAKxBP,OAAOgD,oBAAoB,SAAUP,IAI7CA,IAEAzC,OAAOe,iBAAiB,SAAU0B,IAGpC7B,KAAM,SAAUqC,GACd,IAAIxC,EAAOL,SAASC,cAAc,QAC9B6C,EAAS9C,SAASC,cAAc4C,EAAKrC,MACrCA,EAAOR,SAASqB,cAAc,OAC9BZ,EAAUT,SAASC,cAAc4C,EAAKpC,SAE1CD,EAAKiB,YAAYqB,EAAOC,WAAU,IAElCvC,EAAKG,iBAAiB,QAAS,SAAUC,GACb,MAArBA,EAAEE,OAAOkC,UACZpC,EAAEC,iBACFD,EAAEE,OAAOC,WAAWb,UAAUc,OAAO,aAIzCP,EAAQE,iBAAiB,QAAS,WAChC,IAAIsC,EAAajD,SAASqB,cAAc,OAExChB,EAAKoB,YAAYjB,GACjByC,EAAWzB,UAAY,cACvBnB,EAAKoB,YAAYwB,IAEO,IAAnBJ,EAAKK,UACR1C,EAAKgB,UAAY,cAAgBqB,EAAKnC,SAEtCF,EAAKgB,WAAa,eAAiBqB,EAAKnC,SAGrCL,EAAKH,UAAU4B,SAAS,cAC3BzB,EAAKH,UAAUkC,OAAO,aACtB5B,EAAKN,UAAUkC,OAAO,QACtB/B,EAAKH,UAAUC,IAAI,gBACnBgD,WAAY,WACV9C,EAAKH,UAAUkC,OAAO,iBACrB,OAEH/B,EAAKH,UAAUC,IAAI,gBACnBgD,WAAY,WACV9C,EAAKH,UAAUkC,OAAO,gBACtB/B,EAAKH,UAAUC,IAAI,aACnBK,EAAKN,UAAUC,IAAI,SAClB,MAGL8C,EAAWtC,iBAAiB,QAAS,WACnCN,EAAKH,UAAUkC,OAAO,aACtB5B,EAAKN,UAAUkC,OAAO,QACtB/B,EAAKH,UAAUC,IAAI,gBACnBgD,WAAY,WACV9C,EAAKH,UAAUkC,OAAO,gBACtB/B,EAAK+C,YAAYH,GACQ,OAApBzC,EAAKO,YACRV,EAAK+C,YAAY5C,IAElB,OACF,KACF,KAKP,MAAO,CACLT,KAAM2B,EAAQ3B,KACdS,KAAMkB,EAAQlB,MAvIL,CA0IXX;AC1IFA,IAAIE,KAAO,WACT,aAEA,IAAIM,EAAcL,SAASK,KACvBgD,EAAchD,EAAKiD,aAAa,mBAChCC,EAAclD,EAAKiD,aAAa,eAChCE,EAAcnD,EAAKiD,aAAa,aAEpCzD,IAAIU,OAAOR,OAENF,IAAIwD,KACPxD,IAAIwD,GAAYtD,OAEXF,IAAIwD,GAAYE,IAA8C,mBAA5B1D,IAAIwD,GAAYE,KACrD1D,IAAIwD,GAAYE,KAEX1D,IAAIwD,GAAYE,GAAQC,IAC3B3D,IAAIwD,GAAYE,GAAQC,QAMhCxD,SAASyD,mBAAqB,WAC5B,aAE6B,gBAAxBzD,SAAS0D,YACZ7D,IAAIE","file":"../js/site.js","sourcesContent":["window.SLC = {}\n\nSLC.immediate = ( function () {\n  'use strict'\n\n  var methods = {\n    init: function () {\n      document.querySelector('html').classList.add('js')\n    }\n  }\n\n  //  Public methods\n  return {\n    init: methods.init\n  }\n\n})(SLC)\n\nSLC.immediate.init()\n","SLC.category = ( function () {\n  'use strict'\n\n  var methods = {\n\n    init: function () {\n      if ( document.body.clientWidth < 960 ) {\n        SLC.global.menu({\n          menu: 'main nav.filters',\n          trigger: 'main nav.filters > a',\n          position: 'bottom'\n        })\n        SLC.global.menu({\n          menu: 'main nav.sort',\n          trigger: 'main nav.sort > a',\n          position: 'bottom'\n        })\n      } else {\n        document.querySelector('main section.products nav.sort > a').addEventListener('click', function (e) {\n          e.preventDefault()\n          e.target.parentNode.classList.toggle('active')\n        })\n        document.querySelector('main section.products nav.sort > section').addEventListener('mouseleave', function (e) {\n          e.target.parentNode.classList.toggle('active')\n        })\n        document.querySelectorAll('main section.products nav.filters > section').forEach(function (item) {\n          let moreButton = document.createElement('a')\n          moreButton.href = '#'\n          moreButton.classList.add('more')\n          moreButton.text = 'More'\n          moreButton.addEventListener('click', function (e) {\n            e.preventDefault()\n            e.target.parentNode.classList.toggle('more')\n            if ( e.target.text === 'More' ) {\n              e.target.className = 'fewer'\n              e.target.text = 'Fewer'\n            } else {\n              e.target.className = 'more'\n              e.target.text = 'More'\n            }\n          })\n          item.appendChild(moreButton)\n        })\n      }\n    }\n\n  }\n\n  //  Public methods\n  return {\n    init: methods.init\n  }\n\n}(SLC))\n","SLC.global = ( function () {\n  'use strict'\n\n  var methods = {\n\n    init: function () {\n      methods.header()\n      methods.imageLoad()\n\n      if ( document.body.clientWidth < 960 ) {\n        methods.menu({\n          menu: 'body > header nav.site > ul > li > ul',\n          trigger: 'body > header nav.site > ul > li > a',\n          position: 'left'\n        })\n\n        document.querySelectorAll('body > header nav.site > ul > li > a').forEach( function (item) {\n          item.addEventListener('click', function (e) {\n            e.preventDefault()\n          })\n        })\n      }\n    },\n\n    header: function () {\n      var body        = document.querySelector('body'),\n          bodyOffset  = 0,\n          header      = document.querySelector('body > header')\n\n      window.addEventListener('scroll', function () {\n        if ( !body.classList.contains('hidden-header') && bodyOffset > body.getBoundingClientRect().top && Math.abs(body.getBoundingClientRect().top) > header.getBoundingClientRect().height ) {\n          body.classList.add('hidden-header')\n        // The minus 10 pixels is to keep the header from popping in with only slight movements (happens frequently when using touchscreens and touch input devices)\n        // The second half of the statement deals with Safari's bounceback when you scroll past the top of the page\n        } else if ( body.getBoundingClientRect().top - 10 >= bodyOffset || Math.abs(body.getBoundingClientRect().top) <= header.getBoundingClientRect().height ) {\n          body.classList.remove('hidden-header')\n        }\n\n        bodyOffset = body.getBoundingClientRect().top\n        if ( bodyOffset < -60 ) {\n          body.classList.add('partial-header')\n        } else {\n          body.classList.remove('partial-header')\n        }\n      })\n    },\n\n    // Delay image loading until users scroll to them\n    imageLoad: function () {\n      var load = function () {\n            const images = document.querySelectorAll('img[data-src]:not(.loaded)')\n            \n            // If there are images yet to be loaded...\n            if ( images.length ) {\n              images.forEach( function (image) {\n                // If the image is within 1.5 viewport heights of the current offset, load it\n                if ( image.getBoundingClientRect().top < ( document.body.clientHeight * 1.5 ) ) {\n                  image.src = image.dataset.src\n                  image.classList.add('loaded')\n                }\n              })\n            // ...otherwise, remove the scroll listener for performance reasons\n            } else {\n              window.removeEventListener('scroll', load)\n            }\n          }\n      \n      load()\n\n      window.addEventListener('scroll', load)\n    },\n\n    menu: function (args) {\n      var body = document.querySelector('body'),\n          source = document.querySelector(args.menu),\n          menu = document.createElement('nav'),\n          trigger = document.querySelector(args.trigger)\n\n      menu.appendChild(source.cloneNode(true))\n\n      menu.addEventListener('click', function (e) {\n        if ( e.target.tagName === 'A' ) {\n          e.preventDefault()\n          e.target.parentNode.classList.toggle('active')\n        }\n      })\n\n      trigger.addEventListener('click', function () {\n        var menuShadow = document.createElement('div')\n\n        body.appendChild(menu)\n        menuShadow.className = 'menu-shadow'\n        body.appendChild(menuShadow)\n\n        if ( args.keepClass === false ) {\n          menu.className = 'slide-menu ' + args.position\n        } else {\n          menu.className += ' slide-menu ' + args.position\n        }\n\n        if ( body.classList.contains('menu-open') ) {\n          body.classList.remove('menu-open')\n          menu.classList.remove('open')\n          body.classList.add('menu-closing')\n          setTimeout( function () {\n            body.classList.remove('menu-closing')\n          }, 200)\n        } else {\n          body.classList.add('menu-opening')\n          setTimeout( function () {\n            body.classList.remove('menu-opening')\n            body.classList.add('menu-open')\n            menu.classList.add('open')\n          }, 200)\n        }\n\n        menuShadow.addEventListener('click', function () {\n          body.classList.remove('menu-open')\n          menu.classList.remove('open')\n          body.classList.add('menu-closing')\n          setTimeout( function () {\n            body.classList.remove('menu-closing')\n            body.removeChild(menuShadow)\n            if ( menu.parentNode !== null ) {\n              body.removeChild(menu)\n            }\n          }, 200)\n        }, false)\n      }, false)\n    }\n  }\n\n  //  Public methods\n  return {\n    init: methods.init,\n    menu: methods.menu\n  }\n\n}(SLC))\n","SLC.init = function () {\n  'use strict'\n\n  var body        = document.body,\n      controller  = body.getAttribute('data-controller'),\n      action      = body.getAttribute('data-action'),\n      view        = body.getAttribute('data-view')\n\n  SLC.global.init()\n\n  if ( SLC[controller] ) {\n    SLC[controller].init()\n\n    if ( SLC[controller][action] && typeof SLC[controller][action] === 'function' ) {\n      SLC[controller][action]()\n\n      if ( SLC[controller][action][view] ) {\n        SLC[controller][action][view]()\n      }\n    }\n  }\n}\n\ndocument.onreadystatechange = function () {\n  'use strict'\n\n  if ( document.readyState === 'interactive' ) {\n    SLC.init()\n  }\n}\n"]}