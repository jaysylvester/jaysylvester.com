window.JAY={},JAY.immediate=function(){"use strict";return{init:{init:function(){document.querySelector("html").classList.add("js")}}.init}}(JAY),JAY.immediate.init();
JAY["case-study"]=function(){"use strict";return{init:function(){}}}(JAY);
JAY.global=function(){"use strict";var e={init:function(){e.header(),e.imageLoad()},header:function(){var e=document.querySelector("body"),t=0,n=document.querySelector("body > header");setTimeout(function(){window.addEventListener("scroll",function(){!e.classList.contains("hidden-header")&&t>e.getBoundingClientRect().top&&Math.abs(e.getBoundingClientRect().top)>n.getBoundingClientRect().height?e.classList.add("hidden-header"):(e.getBoundingClientRect().top-10>=t||Math.abs(e.getBoundingClientRect().top)<=n.getBoundingClientRect().height)&&e.classList.remove("hidden-header"),t=e.getBoundingClientRect().top})},0)},imageLoad:function(){var t=function(){const n=document.querySelectorAll("img:not(.loaded)");n.length?n.forEach(function(t){if(t.dataset.src){var n=t.clientWidth?"w_"+t.clientWidth:"h_"+t.clientHeight;t.getBoundingClientRect().top<1.5*document.body.clientHeight&&(t.src=t.dataset.src.replace("[parameters]","f_auto,"+n+",dpr_"+Math.ceil(window.devicePixelRatio)+".0"),t.classList.add("loaded"),"FIGURE"===t.parentNode.tagName&&e.imageZoom(t))}else t.classList.add("loaded")}):window.removeEventListener("scroll",t)};t(),window.addEventListener("scroll",t)},imageZoom:function(e){var t=document.getElementById("mask")||document.createElement("div"),n=document.createElement("span"),i=document.createElement("span"),o=e.parentNode,a=e.dataset.src.replace("[parameters]","f_auto,q_50,dpr_"+Math.ceil(window.devicePixelRatio)+".0");t.setAttribute("id","mask"),document.body.appendChild(t),n.classList.add("zoom"),o.insertBefore(n,o.querySelector("figcaption")),i.classList.add("zoom-button"),n.appendChild(e),n.appendChild(i),n.addEventListener("click",function(){function e(e){"Escape"===e.key&&n()}function n(){document.querySelector("html").classList.remove("mask-enabled"),t.classList.remove("enabled"),t.innerHTML="",window.removeEventListener("keydown",e)}t.innerHTML='<a id="mask-open-tab" href="'+a+'" target="_blank">Open this image in a new tab</a><a id="mask-close" href="#">Close</a><img src="'+a+'">',document.querySelector("html").classList.add("mask-enabled"),t.classList.add("enabled"),window.addEventListener("keydown",e),t.querySelector("#mask-close").addEventListener("click",function(e){e.preventDefault(),n()}),t.querySelector("#mask-open-tab").addEventListener("click",function(){n()})})},menu:function(e){var t,n=document.querySelector("body");document.querySelector(e.trigger).addEventListener("click",function(){var i=document.querySelector(e.menu),o=document.createElement("div");t=i.cloneNode(!0),n.appendChild(t),o.className="menu-shadow",n.appendChild(o),!1===e.keepClass?t.className="slide-menu "+e.position:t.className+=" slide-menu "+e.position,n.classList.contains("menu-open")?(n.classList.remove("menu-open"),t.classList.remove("open"),n.classList.add("menu-closing"),setTimeout(function(){n.classList.remove("menu-closing")},200)):(n.classList.add("menu-opening"),setTimeout(function(){n.classList.remove("menu-opening"),n.classList.add("menu-open"),t.classList.add("open")},200)),o.addEventListener("click",function(){n.classList.remove("menu-open"),t.classList.remove("open"),n.classList.add("menu-closing"),setTimeout(function(){n.classList.remove("menu-closing"),n.removeChild(o),null!==t.parentNode&&n.removeChild(t)},200)},!1)},!1)}};return{init:e.init,imageZoom:e.imageZoom,menu:e.menu}}(JAY);
JAY.init=function(){"use strict";var t=document.getElementsByTagName("body")[0],e=t.getAttribute("data-controller"),i=t.getAttribute("data-action"),n=t.getAttribute("data-view");JAY.global.init(),JAY[e]&&(JAY[e].init(),JAY[e][i]&&"function"==typeof JAY[e][i]&&(JAY[e][i](),JAY[e][i][n]&&JAY[e][i][n]()))},document.onreadystatechange=function(){"use strict";"interactive"===document.readyState&&JAY.init()};
//# sourceMappingURL=../min/site.js.map
