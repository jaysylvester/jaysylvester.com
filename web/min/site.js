window.JAY={},JAY.immediate=function(){"use strict";var t={init:function(){document.querySelector("html").classList.add("js"),t.detectTouchDevice()},detectTouchDevice:function(){var t=" -webkit- -moz- -o- -ms- ".split(" ");if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var i,e=["(",t.join("touch-enabled),("),"heartz",")"].join("");return i=e,window.matchMedia(i).matches}};return{init:t.init}}(JAY),JAY.immediate.init();
JAY["case-study"]=function(){"use strict";return{init:{init:function(){JAY.global.imageZoom()}}.init}}(JAY);
JAY.global=function(){"use strict";var e={init:function(){e.header()},header:function(){var e=document.querySelector("body"),n=0,t=document.querySelector("body > header");setTimeout(function(){window.addEventListener("scroll",function(){!e.classList.contains("hidden-header")&&n>e.getBoundingClientRect().top&&Math.abs(e.getBoundingClientRect().top)>t.getBoundingClientRect().height?e.classList.add("hidden-header"):(e.getBoundingClientRect().top-10>=n||Math.abs(e.getBoundingClientRect().top)<=t.getBoundingClientRect().height)&&e.classList.remove("hidden-header"),n=e.getBoundingClientRect().top})},0)},imageZoom:function(){if(768<=document.body.clientWidth){var o=document.createElement("div");o.setAttribute("id","mask"),document.body.appendChild(o),document.querySelectorAll("figure > img").forEach(function(e){var n=document.createElement("span"),t=document.createElement("span"),s=e.parentNode,i=e.getAttribute("src");n.classList.add("zoom"),s.insertBefore(n,s.querySelector("figcaption")),t.classList.add("zoom-button"),t.innerHTML='<svg class="icon zoom-in"><use xlink:href="themes/default/images/symbols.svg#icon-zoom-in"></use></svg>',n.appendChild(e),n.appendChild(t),n.addEventListener("click",function(){function e(e){"Escape"===e.key&&n()}function n(){document.querySelector("html").classList.remove("mask-enabled"),o.classList.remove("enabled"),o.innerHTML="",window.removeEventListener("keydown",e)}o.innerHTML='<div id="mask-close"><svg class="icon close"><use xlink:href="themes/default/images/symbols.svg#icon-close"></use></svg></div><img src="'+i+'"><a class="open-tab" href="'+i+'" target="_blank">'+i+'<svg class="icon arrow-up-right"><use xlink:href="themes/default/images/symbols.svg#icon-arrow-up-right"></use></svg></a>',document.querySelector("html").classList.add("mask-enabled"),o.classList.add("enabled"),window.addEventListener("keydown",e),o.querySelector("#mask-close").addEventListener("click",function(){n()})})})}},menu:function(t){var s,i=document.querySelector("body");document.querySelector(t.trigger).addEventListener("click",function(){var e=document.querySelector(t.menu),n=document.createElement("div");s=e.cloneNode(!0),i.appendChild(s),n.className="menu-shadow",i.appendChild(n),!1===t.keepClass?s.className="slide-menu "+t.position:s.className+=" slide-menu "+t.position,i.classList.contains("menu-open")?(i.classList.remove("menu-open"),s.classList.remove("open"),i.classList.add("menu-closing"),setTimeout(function(){i.classList.remove("menu-closing")},200)):(i.classList.add("menu-opening"),setTimeout(function(){i.classList.remove("menu-opening"),i.classList.add("menu-open"),s.classList.add("open")},200)),n.addEventListener("click",function(){i.classList.remove("menu-open"),s.classList.remove("open"),i.classList.add("menu-closing"),setTimeout(function(){i.classList.remove("menu-closing"),i.removeChild(n),null!==s.parentNode&&i.removeChild(s)},200)},!1)},!1)}};return{init:e.init,imageZoom:e.imageZoom,menu:e.menu}}(JAY);
JAY.init=function(){"use strict";var t=document.getElementsByTagName("body")[0],e=t.getAttribute("data-controller"),i=t.getAttribute("data-action"),n=t.getAttribute("data-view");JAY.global.init(),JAY[e]&&(JAY[e].init(),JAY[e][i]&&"function"==typeof JAY[e][i]&&(JAY[e][i](),JAY[e][i][n]&&JAY[e][i][n]()))},document.onreadystatechange=function(){"use strict";"interactive"===document.readyState&&JAY.init()};
//# sourceMappingURL=../min/site.js.map
